(function(d){d.fn.extend({customselect:function(b){if("undefined"!=typeof document.body.style.maxHeight)return b=d.extend({customClass:null,mapClass:!0,mapStyle:!0},b),this.each(function(){var c=d(this),e=d('<span class="customselectinner" />'),a=d('<span class="customselect" />').append(e);c.after(a);b.customClass&&a.addClass(b.customClass);b.mapClass&&a.addClass(c.attr("class"));b.mapStyle&&a.attr("style",c.attr("style"));c.bind("update",function(){c.change();var b=parseInt(c.outerWidth())-(parseInt(a.outerWidth())-
parseInt(a.width()));a.css({display:"inline-block"});e.css({width:b,display:"inline-block"});b=a.outerHeight();c.css({"-webkit-appearance":"menulist-button",width:a.outerWidth(),position:"absolute",opacity:0,height:b,fontSize:a.css("font-size")})}).change(function(){var b=c.find(":selected").html()||"&nbsp;";e.html(b).parent().addClass("customselectchanged");c.css({height:a.outerHeight()});setTimeout(function(){a.removeClass("customselectopen")},60)}).bind("mousedown",function(){a.toggleClass("customselectopen")}).focus(function(){a.addClass("customselectfocus")}).blur(function(){a.removeClass("customselectfocus customselectopen")}).trigger("update")})}})})(jQuery);