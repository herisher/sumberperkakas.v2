(function(b){b.fn.extend({customselect:function(a){if(typeof document.body.style.maxHeight!="undefined"){var d={customClass:null,mapClass:true,mapStyle:true};var a=b.extend(d,a);return this.each(function(){var h=b(this);var c=b('<span class="customselectinner" />');var g=b('<span class="customselect" />').append(c);h.after(g);if(a.customClass){g.addClass(a.customClass)}if(a.mapClass){g.addClass(h.attr("class"))}if(a.mapStyle){g.attr("style",h.attr("style"))}h.bind("update",function(){h.change();var e=parseInt(h.outerWidth())-(parseInt(g.outerWidth())-parseInt(g.width()));g.css({display:"inline-block"});c.css({width:e,display:"inline-block"});var f=g.outerHeight();h.css({"-webkit-appearance":"menulist-button",width:g.outerWidth(),position:"absolute",opacity:0,height:f,fontSize:g.css("font-size")})}).change(function(){var f=h.find(":selected");var e=f.html()||"&nbsp;";c.html(e).parent().addClass("customselectchanged");setTimeout(function(){g.removeClass("customselectopen")},60)}).bind("mousedown",function(){g.toggleClass("customselectopen")}).focus(function(){g.addClass("customselectfocus")}).blur(function(){g.removeClass("customselectfocus customselectopen")}).trigger("update")})}}})})(jQuery);